<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="crowdfunding.crowdfunding.repository.item.ItemMapper">

    <insert id="itemSave" useGeneratedKeys="true" keyProperty="itemNum" keyColumn="item_num" parameterType="ItemDTO">
        insert into item (maker_id,item_title,item_content,create_date,target_amount,target_period)
        values (#{makerId}, #{itemTitle}, #{itemContent}, now(), #{targetAmount}, #{targetPeriod})
    </insert>

    <insert id="itemImageSave">
        insert into item_image(item_num,item_image_name,image_attach_date)
        values (#{itemNum}, #{itemImageName}, now())
    </insert>
</mapper>

